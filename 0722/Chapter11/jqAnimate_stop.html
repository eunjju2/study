<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.6.4.js"></script>
    <script>
        $(document).ready(function () {
            // 초기 설정: 큐 클리어와 끝까지 이동 여부를 false로 설정
            let clearQueue = false;
            let goToEnd = false;
    
            // #clearQueue 체크박스 상태 변경 시
            $('#clearQueue').change(function () {
                // 체크박스의 체크 상태를 clearQueue 변수에 저장
                clearQueue = $(this).prop('checked');
            });
    
            // #goToEnd 체크박스 상태 변경 시
            $('#goToEnd').change(function() {
                // 체크박스의 체크 상태를 goToEnd 변수에 저장
                goToEnd = $(this).prop('checked');
            });
    
            // #stopButton 버튼 클릭 시
            $('#stopButton').click(function () {
                // #box 요소의 애니메이션을 멈춤
                // clearQueue와 goToEnd 변수에 따라 멈춤 동작을 결정
                $('#box').stop(clearQueue, goToEnd);
            });
    
            // #box 요소의 초기 스타일 설정
            $('#box').css({
                width: 100,
                height: 100,
                background: 'pink'
            });
    
            // 타이머 연결: 3초마다 반복 실행
            setInterval(function() {
                // #box 요소의 너비를 200으로 1초 동안 애니메이트
                $('#box').animate({
                    width: 200
                }, 1000)
                // 애니메이션이 끝난 후 1초 동안 대기
                .delay(1000)
                // #box 요소의 너비를 100으로, 높이를 100으로 1초 동안 애니메이트
                .animate({
                    width: 100,
                    height: 100
                }, 1000);
            }, 3000); // 3초마다 위의 애니메이션 반복
        });
    </script>
    
</head>
<body>
    <label>clearQueue</label>
    <input id="'clearQueue" type="checkbox">
    <br>
    <label>goToEnd</label>
    <input id="'goToEnd" type="checkbox">
    <br>
    <button id="stopButton">Stop</button>
    <div id="box"></div>
</body>
</html>